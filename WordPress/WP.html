<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="WP.css">
	<title>Натяжка на WordPress</title>
</head>
<body>
	<nav class="bar">
		<a class="bar_link" href="#">Base</a>
		<a class="bar_link" href="menus/menu.html">Menus</a> 
		<a class="bar_link" href="#">Tabs</a> 
		<a class="bar_link" href="#">Images</a> 
		<a class="bar_link" href="#">Buttons</a>
		<a class="bar_link" href="#">Forms</a>
		<a class="bar_link" href="#">Filters</a>
		<a class="bar_link" href="#">RegExp</a> 
        <a class="bar_link" href="#">Tables</a> 
        <a class="bar_link active" href="#">WordPress</a>  
	</nav>
	<header>
        <h2>Загрузка вёрстки и подключение стилей</h2>
        <p>Скачать WordPress...</p>
        <p>В папке с установленным локальным сервером, напр. Open Server , находим папку с проектами. В Open Server это domains. Там создаём папку с названием проекта: myProject.loc. Сюда перенести содержимое скачанного архива WordPress. Запустить сайт на локальном сервере. Должно появиться такое окошко:
        </p>
        <figure>
            <img src="img/1/1.PNG" alt="WordPress" width="40%">
        </figure>
        <h3>Создание базы данных</h3>
        <figure>
            <img src="img/1/2.PNG" alt="WordPress" width="25%">
        </figure>
        <figure>
            <img src="img/1/3.PNG" alt="WordPress" width="45%">
        </figure>
        <p>Заходим в phpMyAdmin, создаём новую базу данных, нажав на соответствующую ссылку в левом верхнем углу панели.Даём название базе (1), выбираем кодировку (2), и жмём на кнопочку (3)
        </p>
        <figure>
            <img src="img/1/4.PNG" alt="WordPress" width="45%">
        </figure>
        <p>Создаём пользователя, нажав на «привелегии»</p>
        <figure>
            <img src="img/1/5.PNG" alt="WordPress" width="45%">
        </figure>
        <p>Далее 'Добавить учетную запись пользователя'</p>
        <figure>
            <img src="img/1/6.PNG" alt="WordPress" width="45%">
        </figure>
        <p>Устанавливаем имя пользователя(1). Если всплыло предупреждение, как в примере, добавьте к admin название базы данных\сайта, что придаст уникальности имени. Далее пароль(2) и привилегии(3).<br>
        Жмём «вперёд»! <br>          
        Всё. Переходим к сайту на локальном сервере. Вводим имя пользователя, имя базы и пароль. «Сервер» и «префикс» оставляем в покое). Жмём кнопоку…<br>
        Это ещё не конец. Заполняем поля. В поле email вводим или свой или заказчика, если сайт под заказ.
        Жмём «устанавливаем WordPress».<br>
        Вводим логин, пароль. Теперь всё  -вошли в админку WP. 
        </p>
        <h3>Установка вёрстки</h2>
        <p>Установка будет происходить в папку с темами WP. <br>
            Минимальная тема WordPress состоит из двух файлов:<br>
            	style.css<br>
            	index.php<br>
            Оба этих файла помещают в папку темы. <br>           
            Темы WordPress находятся в поддиректориях wp-content/themes/. <br>
            Создаём новую папку под нашу будущую тему. Папку назовём, напр., TestTheme.<br>
            Тема WordPress состоит из трёх основных типов файлов, в дополнение к изображениям. <br>
            Первый - это таблица стилей под именем style.css, которая контролирует внешний вид страниц сайта. <br>
            Второй предоставляет собой файл дополнительного функционала (functions.php). Остальные файлы - это файлы шаблонов, которые определяют, каким образом выводится информация из базы данных на веб-страницу. <br>
            Помимо собственно таблицы стилей вашей темы, файл style.css обязательно должен содержать информацию о вашей теме в виде комментариев. Каждая тема должна иметь свою собственную уникальную информацию в комментариях заголовка, в обратном случае возникнут проблемы в диалоге выбора темы. Создавая новую тему на основе уже существующей, в первую очередь измените комментарии заголовка.<br>
            Ниже приведен шаблон заголовка таблицы стилей (style sheet header) вашей темы Rose. Он должен находится в начале файла стилей style.css, в первых строках:
        </p>
        <code>
            <pre>
                /*   
                Theme Name: Rose 
                Theme URI: домашняя-страница-темы 
                Description: краткое-описание-темы 
                Author: ваше-имя 
                Author URI: ваш-URI 
                Template: напишите-здесь-наименование-родительской-темы--необязательное-поле 
                Version: номер-версии--необязательное-поле 
                Развёрнутое описание темы/Лицензия-если-нужно.
                
            */
            </pre>           

        </code>
        <p>
            По идее, достаточно одной строки /* Theme Name: сюда имя темы */ <br>
            в файл style.css в папке TestTheme. После комментария вставить скопированные стили из основного файла стилей. <br>
            Создадим в папке TestTheme файл index.php.  <br>
            Перенесём вёрстку из index.html в index.php. <br>
            Активируем тему в панели администратора. Внешний вид сайта будет не стилизованный. <br>
            Создать папку assets в директории TestTheme. Туда скопировать папки img, js, css, fonts… 

        </p>
        <h3>Подключение стилей</h3>
        <p>Перед </head> (важно именно это место!) пишем функцию
            &lt;?php wp_head(); ?&gt;  <br>       
                    
           Тема может дополнительно использовать файл с необходимыми функциями для работы темы, он должен располагаться в каталоге темы и называться functions.php. <br>  
           Этот файл будет нужен для подключения стилей:          https://wp-kama.ru/function-cat/podklyuchenie-faylov<br>  
           В файле подключаем функцию, которая правильно добавляет файл CSS стилей и регистрирует файл стилей, если он еще не был зарегистрирован - wp_enqueue_style():<br>  
           Ссылка на код … https://wp-kama.ru/function/wp_enqueue_style
        </p>
        <code>
            <pre>
                &lt;?php 
            // правильный способ подключить стили и скрипты
            add_action( 'wp_enqueue_scripts', 'theme_name_scripts' );
            // add_action('wp_print_styles', 'theme_name_scripts'); // можно использовать этот хук он более поздний
            function theme_name_scripts() {
                wp_enqueue_style( 'style-name', get_stylesheet_uri() );
                wp_enqueue_script( 'script-name', get_template_directory_uri() . '/js/example.js', array(), '1.0.0', true );
            }
            </pre>
            
                   
        </code>
        <p>
            'theme_name_scripts' можно поменять на 'theme_name_styles' т.к сейчас стили подключаем <br>
            Удаляем вторую строку,   'style-name'  можно заменить на main-style'  <br>
            Теперь нужно указать путь к этому файлу со стилями. Нам поможет функция get_stylesheet_uri() . <br>
            Она получает готовую ссылку (URL) на файл стилей style.css текущей темы.
            Теперь запись в файле выглядит так:            
        </p>
        <code>
            <pre>
               &lt;?php
                add_action( 'wp_enqueue_scripts', 'theme_name_styles' );
                function theme_name_styles() {
                    wp_enqueue_style( 'main-style', get_stylesheet_uri() );	
                } 
            </pre>                
                
        </code>
        <p>Для подключения стилей из не корневой папки понадобится другая функция.</p>
        <p>
            get_template_directory_uri() Получает URL текущей темы, т.е функция выдаст путь до корневой папки. В нашем случае это папка TestTheme. <br>
            Получаем путь к стилевому файлу из папки assets: <br>
            wp_enqueue_style( 'animate-style', get_template_directory_uri() . '/assets/css/animate.css' ); <br>
            В результате имеем что-то вроде:
        </p>
        <code>
            <pre>
            &lt;?php 
            add_action( 'wp_enqueue_scripts', 'theme_name_styles' );
            function theme_name_styles() {	
                wp_enqueue_style( 'animate-style', get_template_directory_uri() . '/assets/css/animate.css' );
                wp_enqueue_style( 'bootstrap-style', get_template_directory_uri() . '/assets/css/bootstrap.css' );
                wp_enqueue_style( 'main-style', get_stylesheet_uri() );	
            } 
            </pre>           
                
        </code>
        <h3>Подключение картинок</h3>
        <p>1. В style.css</p>
        <p>Ищем в style.css url с путями к картинкам. Для этого CTRL + F и для поиска пишем часть пути к картинке, далее  ALT + Enter  - можем менять путь с учётом появившейся   папки assets.</p>
        <p>2. В index.php</p>
        <p>Делаем это с помощью функции bloginfo() с аргументом template_url, который вернёт URL директории текущей темы. Функция выводит на экран различную информацию о блоге, которая, в основном, указывается в настройках сайта.
        </p>
        <p>Например, пишем в  &lt;img src=' &lt;?php bloginfo( "template_url") ?&gt;/assets/…'</p>
        <h3>Подключение скриптов</h3>
        <p>Для подключения скриптов используем функцию wp_enqueue_script(). <br>           
             Про функцию: <a href="https://wp-kama.ru/function/wp_enqueue_script">https://wp-kama.ru/function/wp_enqueue_script</a>  
        </p>
        <p>Итак, в файле index.php в конце вёрстки перед закрывающим тегом body пишем &lt;?php wp_footer(); ?&gt; </p>
        <figure>
            <img src="img/1/7.PNG" alt="WordPress" width="45%">
        </figure>
        <p>
            Если, допустим, вы хотите вместо библиотеки jQuery из состава WordPress подключить её CDN-копию. Добавьте этот код в файл functions.php активной темы:
        </p>
        <code>
            <pre>
                add_action( 'wp_enqueue_scripts', 'my_scripts_method', 11 );
                function my_scripts_method() {
                    wp_deregister_script( 'jquery' );
                    wp_register_script( 'jquery', 'http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js');
                    wp_enqueue_script( 'jquery' );
                }    
                    
            </pre>
        </code>
        <p>Результат:</p>
        <figure>
            <img src="img/1/8.PNG" alt="WordPress" width="80%">
        </figure>
	</header>	
	<script src="../main.js"></script> 	
</body>
</html>